{% extends 'base.html' %}

{% block body %}

{% if user.id == current_user.id %}

Hi, {{ user.username }}!

Your Profile:<br>
Email: {{ user.email }}<br>
Category: {{ user.category }}<br>

Your Requests:<br>
{% for request in requests %}
<a href="{{ url_for('request', request_id=request.request_id) }}">{{ request.title }}</a>
<br>
{% endfor %}

Your Characters:<br>

{% for character in characters %}

<a href="{{ url_for('character', character_id=character.character_id)}}">
{{character.name}}
</a>
<br>
{% endfor %}

Your comments: <br>

{% for comment in comments %}

<a href="{{ url_for('request', request_id=comment.request_id) }}">Go to request</a><br>
{{comment.text|safe}}
<br>
{% endfor %}

{% if current_user.category == "Writer"%}

Your booked requests: <br>

{% for request in booked_requests %}
<a href="{{ url_for('request', request_id=request.request_id) }}">{{request.title}}</a>
<br>
{{ request.status }}<br>

{% endfor %}

Your booked characters: <br>

{% for character in booked_characters %}
<a href="{{ url_for('character', character_id=character.character_id)}}">
    {{character.name}}
    </a>
    <br>
    {{ character.status }} <br>
    {% endfor %}

{% endif %}
    
    You rated there requests: <br>
    
    {% for rating in ratings %}
    
    <a href="{{ url_for('request', request_id=rating.requests.request_id) }}">{{ rating.requests.title }}</a>: 
    {{ rating.score }}<br>

    {% endfor %}

    {% else %}

    Access denied.

    {% endif %}
    
    {% endblock %}